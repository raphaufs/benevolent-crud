{"ast":null,"code":"import prisma from '../../../lib/prisma'; // PUT /api/publish/:id\n\nexport default async function handle(req, res) {\n  const postId = req.query.id;\n  const post = await prisma.post.update({\n    where: {\n      id: Number(postId)\n    },\n    data: {\n      published: true\n    }\n  });\n  res.json(post);\n}","map":{"version":3,"sources":["/Users/raphael/Downloads/github/prisma-examples-latest/typescript/rest-nextjs-api-routes-auth/pages/api/publish/[id].ts"],"names":["prisma","handle","req","res","postId","query","id","post","update","where","Number","data","published","json"],"mappings":"AACA,OAAOA,MAAP,MAAmB,qBAAnB,C,CAEA;;AACA,eAAe,eAAeC,MAAf,CAAsBC,GAAtB,EAA2CC,GAA3C,EAAiE;AAC9E,QAAMC,MAAM,GAAGF,GAAG,CAACG,KAAJ,CAAUC,EAAzB;AACA,QAAMC,IAAI,GAAG,MAAMP,MAAM,CAACO,IAAP,CAAYC,MAAZ,CAAmB;AACpCC,IAAAA,KAAK,EAAE;AAAEH,MAAAA,EAAE,EAAEI,MAAM,CAACN,MAAD;AAAZ,KAD6B;AAEpCO,IAAAA,IAAI,EAAE;AAAEC,MAAAA,SAAS,EAAE;AAAb;AAF8B,GAAnB,CAAnB;AAIAT,EAAAA,GAAG,CAACU,IAAJ,CAASN,IAAT;AACD","sourcesContent":["import type { NextApiRequest, NextApiResponse } from 'next'\nimport prisma from '../../../lib/prisma'\n\n// PUT /api/publish/:id\nexport default async function handle(req: NextApiRequest, res: NextApiResponse) {\n  const postId = req.query.id;\n  const post = await prisma.post.update({\n    where: { id: Number(postId) },\n    data: { published: true },\n  });\n  res.json(post);\n}\n"]},"metadata":{},"sourceType":"module"}